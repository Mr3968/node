# TCP的三次握手以及四次挥手

## 三次握手

- 第一次握手：
    - 客户端A将标记SYN位置为1，随机产生一个为seq=J(j的取值范围为=1234567)的数据包到服务器，客户端A进入SYN_SENT状态，等待服务端B确认
    
- 第二次握手：
    - 服务端B收到数据包后由标志位SYN=1知道客户端A请求建立连接，服务端B将标志位SYN和ACK都置为1，ack=J+1,随机产生一个seq=k，并将该数据包发送给客户端A以确认连接请求，服务端B进入SYN_RCVD状态

- 第三次握手：
    - 客户端A收到确认后，检查ack是否为j+1，如果正确则将标志位ACK置为1，ack=k+1,并将该数据包发送给服务端B，服务端B检查ack是否为k+1，ack是否为1，如果正确则连接建立成功，客户端A和服务端B进入ESTABLISHED状态，完成三次握手，随后客户端A与服务端B之间可以开始传输数据了 